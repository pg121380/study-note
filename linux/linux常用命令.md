# Linux常用命令

> 命令格式： 命令 &nbsp; [-选项] &nbsp; [参数]

- su命令

> 作用：切换用户身份
> "-" 表示用户的环境变量一起切换  eg: su -root
> "-C" 表示仅使用键入的用户执行一次命令 而不切换用户身份 eg: su -root "vim xxx.conf"

- cd命令

> 作用：切换目录 &nbsp;&nbsp; 执行权限：所有用户
> /：切换到根目录，..：返回上级目录，.：当前目录，-：显示并打开上一次操作的目录，~：当前用户的宿主目录

- ls命令

> 作用：显示目录文件 执行权限：所有用户
> -a：显示所有文件，包括隐藏文件，特殊目录.和..，-l：显示详细信息，-R：递归显示当前目录下所有目录，-r：逆序排序，-t：按修改时间排序
> ll:相当于 ls -l

- mkdir命令

> 作用：创建新目录  执行权限：所有用户
> -p：父目录不存在的情况下先生成父目录
> mkdir {文件夹a,文件夹b,文件夹c.....}创建多个目录

- touch命令

> 作用：创建空文件或者更新已存在文件的时间  执行权限：所有用户
> 语法：touch 文件名
> touch {a.txt,b.conf.....}创建多个文件

- cp命令

> 作用：复制文件或者目录  执行权限：所有用户
> 语法： cp [-rp] 源文件/源目录 目标目录
> -r：递归地复制目录，-p：保留文件属性（原文件时间不变）

- mv命令

> 作用：移动文件或目录、给文件或目录改名  执行权限：所有用户
> 语法： mv 源文件或目录 目标文件或目录

- rm命令

> 作用：删除文件 执行权限：所有用户
> -r：删除目录，同时删除该目录下所有文件，-f：强制删除文件或目录，即使源文件属性设置为只读也直接删除，无需逐一确认
> 删除乱码文件：一些文件乱码后使用rm -rf依然无法删除，此时使用 ll -i 查找到文件的inode节点，然后使用find . -inum查找到的inode编号 -exec rm {} -rf \ 就可以顺利删除

- cat命令

> 作用：显示文件内容 执行权限：所有用户
> -A：显示所有内容，包括隐藏的字符，-n：显示行号

- more命令

> 作用：分页显示文件内容 执行权限：所有用户
> 空格或"f" 显示下一页，Enter键 显示下一行，q或Q 退出

- head命令

> 作用：查看文件前几行（默认前10行） 执行权限：所有用户
> -n：指定行数 eg: head -20 abc.conf

- tail命令

> 作用：查看文件的后几行 执行权限：所有用户
> -n：指定行数，-f：动态显示文件内容

- ln命令

> 作用：产生链接文件 执行权限：所有用户
> ln -s [源文件] [目标文件] --- 创建软链接  ==源文件要使用绝对路径==
> ln [源文件] [目标文件] --- 创建硬链接

## 硬链接

> 在linux系统中有种文件是链接文件，可以为解决文件的共享使用。链接的方式可以分为两种，一种是硬链接（Hard Link），另一种是软链接或者也称为符号链接（Symbolic Link）。硬链接是指通过索引节点来进行链接。在Linux的文件系统中，保存在磁盘分区中的文件不管是什么类型都会给它分配一个编号，这个编号被称为索引节点编号号(Inode Index)或者Inode，它是文件或者目录在一个文件系统中的唯一标识，文件的实际数据放置在数据区域（data block），它存储着文件重要参数信息，也就是元数据 （metadata），比如创建时间、修改时间、文件大小、属主、归属的用户组、读写权限、数据所在block号等。在Linux系统中，多个文件名指向同一索引节点(Inode)是正常且允许的。一般这种链接就称为硬链接。硬链接的作用之一是允许一个文件拥有多个有效路径名，这样用户就可以建立硬链接到重要的文件，以防止“误删”源数据(很多硬件，如netapp存储中的快照功能就应用了这个原理，增加一个快照就多了一个硬链接》。不过硬链接只能在同一文件系统中的文件之间进行链接，不能对目录进行创建。之所以文件建立了硬链接就会防止数据误删，是因为文件系统的原理是，只要文件的索引节点还有一个以上的链接（仅删除了该文件的指向），只删除其中一个链接并不影响索引节点本身和其他的链接（数据的实体并未删除），只有当最后一个链接被删除后，此时如果有新数据要存储到磁盘上，被删除的文件的数据块及目录的链接才会被释放，空间被新数据暂用覆盖。

## 软链接

> 软链接（也叫符号链接），类似于windows系统中的快捷方式，与硬链接不同，软链接就是一个普通文件，只是数据块内容有点特殊，文件用户数据块中存放的内容是另一文件的路径名的指向，通过这个方式可以快速定位到软连接所指向的源文件实体。软链接可对文件或目录创建。软链接作用：
> 便于文件的管理，比如把一个复杂路径下的文件链接到一个简单路径下方便用户访问。
>节省空间解决空间不足问题，某个文件文件系统空间已经用完了，但是现在必须在该文件系统下创建一个新的目录并存储大量的文件，那么可以把另一个剩余空间较多的文件系统中的目录链接到该文件系统中。
>删除软链接并不影响被指向的文件，但若被指向的原文件被删除，则相关软连接就变成了死链接。

## 软链接和硬链接的特点

### 软链接

1. 软链接是存放另一个文件的路径的形式存在。
2. 软链接可以跨文件系统,硬链接不可以
3. 软链接可以对一个不存在的文件名进行链接，硬链接必须要有源文件
4. 软链接可以对目录进行链接

### 硬链接

1. 硬链接，以文件副本的形式存在。但不占用实际空间。
2. 不允许给目录创建硬链接。
3. 硬链接只有在同一个文件系统中才能创建。
4. 删除其中一个硬链接文件并不影响其他有相同 inode 号的文件。

**不论是硬链接或软链接都不会将原本的档案复制一份，只会占用非常少量的磁碟空间。**